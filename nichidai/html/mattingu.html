<html>
<head>
  <meta http-equiv="content-type" charset="utf-8">
  <title>マッチング画面</title>

  <link rel="stylesheet" href="../css/style.css">
  <style>
      #gameWindow {
          background-image: url(../resources/img/title_g1_2.jpg);
      }
  </style>
  <head>
    <body>
      <section id="gameWindow">
        <h1><font color = "#ffffff">選手の入場です！！</font></h1>
      </section>

      <h1><div id="output">マッチングするよー</div></h1>
      <!--Button処理//-->
        <form id="button1"><button>マッチング開始</button></from>

      <script src="/socket.io/socket.io.js">
      </script>

      <script LANGUAGE="JavaScript" type="text/javascript">

    window.onload = function(){
      let socket = io();

      document.querySelector("#button1").addEventListener("submit", (e)=>{
        e.preventDefault();
        //サーバに送信(マッチング)
        socket.emit('matching', {sid:socket.id});

        mach();
      });

      socket.on('matching', (data)=>{
        // サーバからのイベントを受けた際の処理を記述
        //じゃんけんに移動
        window.location.href = "janken.html" ;

    });
  }


  function mach(){
    target = document.getElementById("output");
    target.innerHTML = "マッチングしているYO!";
    document.getElementById("button1").style.display="none";
    //location.href = "janken.html" ;
  }

      //ランダム処理
      function randomv(num){
	      return Math.floor(Math.random() * num);
      }

      function $(id){
      	return document.getElementById(id);
      }
      </script>



     <!--<form><input type="button" value="マッチング開始" onClick="mach()"></form> -->
    </body>
</html>
